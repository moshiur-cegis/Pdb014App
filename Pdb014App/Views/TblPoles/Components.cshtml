@{
    //ViewData["Title"] = "Components of the Sub-station";
    Layout = ViewBag.IsLayout ? "~/Views/Shared/_Layout.cshtml" : null;
    //Layout = null;

    //var isEdit
}

<style type="text/css">

    .tab-nav-bar {
        border-bottom: 0 none;
    }

    .nav-tabs .nav-item {
        margin-bottom: -1px;
    }

    .tab-content {
        border: 1px solid #ddd;
        border-radius: 0 .5rem .5rem;
    }

        .tab-content > .tab-pane {
            display: none;
        }

        .tab-content > .active {
            display: block;
        }
</style>


<div id="components">
    <div style="padding: 0.5rem">

        <ul class="nav nav-tabs">
            <li class="nav-item">
                <a class="nav-link active" data-toggle="tab" href="#comp1">Insulators</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" data-toggle="tab" href="#comp2">Guys</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" data-toggle="tab" href="#comp3">Cross Arms</a>
            </li>
        </ul>

        <!-- Tab panes -->
        <div class="tab-content">

            <div id="comp1" class="container tab-pane active">
                <fieldset>
                    <legend>Insulators</legend>

                    <div id="comp_info_1">
                    </div>
                </fieldset>
            </div>

            <div id="comp2" class="container tab-pane active">
                <fieldset>
                    <legend>Guys</legend>

                    <div id="comp_info_2">
                    </div>
                </fieldset>
            </div>

            <div id="comp3" class="container tab-pane active">
                <fieldset>
                    <legend>Cross Arms</legend>

                    <div id="comp_info_3">
                    </div>
                </fieldset>
            </div>

        </div>

    </div>
</div>


<script type="text/javascript">

    var poleId = "@ViewBag.PoleId",
        poleId1 = "@ViewBag.PoleId1";

    $(function() {
    });
    if (poleId && poleId != '') {
        load_component_data();
    } else {
        msg.init("error", "Error... . . !", "Invalid Pole Information... . . !! ");
    }

    function ajax_load_data(url, data) {
        return $.ajax({
            type: "POST",
            url: url,
            dataType: "html",
            data: data,
        });
    }

    function load_component_data() {

        ajax_load_data('@Url.Action("Index", "TblInsulators")', { poleId: poleId })
            .done(function(compList) {
                $("#comp_info_1").html(compList);
            });

        ajax_load_data('@Url.Action("Index", "TblGuys")', { poleId: poleId })
            .done(function(compList) {
                $("#comp_info_2").html(compList);
            });

        ajax_load_data('@Url.Action("Index", "TblCrossArmInfoes")', { poleId: poleId })
            .done(function(compList) {
                $("#comp_info_3").html(compList);
            });

        return false;
    }

</script>
